Анализ требований. Функционал «Корзина»
1. Анализ логических противоречий и недочётов в ТЗ
Противоречие между пунктами 2 и 9

Пункт 2: пользователь может изменить количество товара в корзине не менее чем до 1. Для удаления товара используется отдельная кнопка.
Пункт 9: если пользователь уменьшает количество товара до 0, товар удаляется из корзины.

❗ Проблема:
Требования противоречат друг другу. Согласно пункту 2, количество товара не может быть меньше 1, а удаление осуществляется только через отдельную кнопку. В то же время пункт 9 допускает уменьшение количества до 0, что автоматически приводит к удалению товара.

Противоречие между пунктами 7 и 13

Пункт 7: цена на продукт фиксируется в момент добавления в корзину и не меняется.
Пункт 13: если цена на товар изменилась в каталоге, система должна автоматически обновить цену в корзине у всех пользователей.

❗ Проблема:
Это прямое логическое противоречие в бизнес-логике ценообразования. Цена не может одновременно быть зафиксированной и автоматически обновляться при изменении в каталоге.

Недостаточная определённость требований в пунктах 1, 3 и 4

Пункт 1: пользователь может добавить в корзину от 1 до 10 единиц одного товара.
Пункт 3: в корзине может находиться не более 5 различных товаров.
Пункт 4: суммарное количество всех товаров в корзине не может превышать 20 штук.

❗ Проблема:
В требованиях не описан порядок проверки ограничений и приоритеты лимитов. Неясно:

какой лимит проверяется первым;

какое сообщение должен увидеть пользователь, если нарушено сразу несколько ограничений;

нужно ли показывать одно общее сообщение или указывать конкретную причину отказа.

2. Исправленная версия требований к корзине

Пользователь может добавить в корзину от 1 до 10 единиц одного товара.

В корзине может находиться не более 5 различных товаров.

Суммарное количество всех товаров в корзине не может превышать 20 единиц.

При попытке добавить товар с нарушением ограничений система отображает сообщение об ошибке.

Пользователь может изменить количество товара в корзине в диапазоне от 1 до 10.

Для удаления товара из корзины используется отдельная кнопка «Удалить».

Уменьшение количества товара до 0 не допускается.

Цена товара фиксируется в момент добавления в корзину и не изменяется.

Изменения цены в каталоге не влияют на товары, уже добавленные в корзину.

В корзине отображается список товаров, их количество, цена за единицу и общая стоимость позиции.

В корзине может отображаться реклама других товаров. Условия её показа определяются отдельно.

3. Уточняющие вопросы

Какой лимит должен проверяться первым, если нарушено несколько ограничений одновременно?

Должно ли сообщение об ошибке указывать конкретную причину отказа?

Должна ли цена товара пересчитываться при оформлении заказа или оставаться зафиксированной до момента оплаты?

Должна ли корзина сохраняться между пользовательскими сессиями?

Нужно ли учитывать содержимое корзины при показе рекламных товаров?
